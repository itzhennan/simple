/*
 Template Name: Color Admin - Responsive Admin Dashboard Template build with Twitter Bootstrap 4
 Version: 4.2.0
 Author: Sean Ngu
 Website: http://www.seantheme.com/color-admin-v4.2/admin/
 */
var handleCalendarDemo = function () {
    $("#external-events .fc-event").each(function () {
        $(this).data("event", {
            title: $.trim($(this).text()),
            stick: !0,
            color: $(this).attr("data-color") ? $(this).attr("data-color") : ""
        }), $(this).draggable({zIndex: 999, revert: !0, revertDuration: 0})
    });
    var t = new Date, e = t.getFullYear(), a = t.getMonth() + 1;
    a = a < 10 ? "0" + a : a, $("#calendar").fullCalendar({
        header: {
            left: "month,agendaWeek,agendaDay",
            center: "title",
            right: "prev,today,next "
        },
        // 所有的事件都支持被拖动
        droppable: !0,
        // 从外部拖动后回调
        drop: function () {
            // $(this).remove(); // 删除外部拖动的元素

        },
        // 删除外部拖动的元素 调用的方法
        eventReceive:function(calEvent){
            updateEvent(calEvent);
        },
        selectable: !0,
        selectHelper: !0,
        select: function (t, e) {
            $IEC.simplePrompt({
                title:"Event Title:",
                placeholder: "Please Input Your Content!",
                content: event.title,
                callback: function(name){
                    var a;
                    name && (a = {
                        title: name,
                        start: t,
                        end: e
                    }, $("#calendar").fullCalendar("renderEvent", a, !0)), $("#calendar").fullCalendar("unselect");
                    // $('#calendar').fullCalendar('changeView', 'agendaDay', '2018-12-06');
                }
            });
        },
        // 单击触发
        eventClick: function(calEvent, jsEvent, view) {
            updateEvent(calEvent);
        },
        // 所有的事件都支持被修改
        editable: !0,
        eventLimit: !0,
        // 鼠标悬浮触发事件
        // eventRender: function(eventObj, $el) {
        //     $el.popover({
        //         title: eventObj.title,
        //         content: "",
        //         trigger: 'hover',
        //         placement: 'top',
        //         container: 'body'
        //     })
        // },
        // 所有的事件
        events: [{title: "All Day Event", start: e + "-" + a + "-01", color: COLOR_GREEN}, {
            title: "Long Event",
            start: e + "-" + a + "-07",
            end: e + "-" + a + "-10"
        }, {id: 999, title: "Repeating Event", start: e + "-" + a + "-09T16:00:00", color: COLOR_GREEN}, {
            id: 999,
            title: "Repeating Event",
            start: e + "-" + a + "-16T16:00:00"
        }, {title: "Conference", start: e + "-" + a + "-11", end: e + "-" + a + "-13"}, {
            title: "Meeting",
            start: e + "-" + a + "-12T10:30:00",
            end: e + "-" + a + "-12T12:30:00",
            color: COLOR_GREEN
        }, {title: "Lunch", start: e + "-" + a + "-12T12:00:00", color: COLOR_BLUE}, {
            title: "Meeting",
            start: e + "-" + a + "-12T14:30:00"
        }, {title: "Happy Hour", start: e + "-" + a + "-12T17:30:00"}, {
            title: "Dinner",
            start: e + "-" + a + "-12T20:00:00"
        }, {title: "Birthday Party", start: e + "-" + a + "-13T07:00:00"}, {
            title: "Click for Google",
            url: "http://google.com/",
            start: e + "-" + a + "-28",
            color: COLOR_RED
        }]
    })
},updateEvent = function(event){
    $IEC.simplePrompt({
        title:"Event Title:",
        placeholder: "Please Input Your Content!",
        content: event.title,
        callback: function(name){
            if (!name) throw null;
            event.title = name;
            $('#calendar').fullCalendar('updateEvent', event);
        }
    });
}, Calendar = function () {
    "use strict";
    return {
        init: function () {
            handleCalendarDemo()
        }
    }
}();